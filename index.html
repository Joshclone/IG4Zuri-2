<html>
  <head>
    <meta charset="utf-8" />

    <title>Number Guessing Game</title>

  </head>

  <body>
    

    <script type="text/javascript">
     
      console.log("Guessing Game Number");

      let username = prompt("Please enter your username: ");
      let point = 0;
      let stage = 1;
      let range = 2;

      function guessNumber() {
        let userPicks = prompt("Guess a number from 1 to 2");
        //generatng a random integer from 1 to 2

        const random = getNumber(range);
        if (Number(userPicks) === random) {
          stage++;
          range++;
          point++;
          console.log(
            "---incorrect. Good job",
            username,
            "You just earned 1 point ",
            "You are now in the next stage",
            stage,
            "--Try again--"
          );

          setTimeout(() => {
            guessNumber();
          }, 2000);
        } else {
          console.log("\n\nOops!!!\nGame Over\n\n");
          console.log("*Game Details*\n");
          console.log(
            "Total points: ",
            getCookie()["points"],
            "\nStage: ",
            getCookie()["stage"]
          );
        }
      }

      const getNumber = (range) => {
        return Math.floor(Math.random() * range + 1);
      };

      const getCookie = () => {
        return {
          username: username,
          points: point,
          stage: stage,
        };
      };
      guessNumber();
    </script>
  </body>
</html>
